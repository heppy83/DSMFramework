<html><head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Publications Per Year</title>
<script language="javascript" type="text/javascript"
	src="../../../engine/lib/jquery-1.7.2.js"></script>
<script language="javascript" type="text/javascript"
	src="../../../engine/lib/jquery.json-2.3.js"></script>

<script language="javascript" type="text/javascript"
	src="../../../engine/EngineCS.js"></script>
<!-- <script language="javascript" type="text/javascript"
	src="engine/EngineFullCS.js"></script> -->	

<script language="javascript" type="text/javascript"
	src="../../../engine/adapters/JSAdapterCS.js"></script>

<script language="javascript" type="text/javascript"
	src="../../../engine/Utils.js"></script>


<!-- UI components JS files import --> 
<script language="javascript" type="text/javascript"
	src="http://localhost:1337/DSMFW/resources/DSMPlatforms/531084/components/barChart.js"></script>
	
<script language="javascript" type="text/javascript">
	function getUrlVars() {
		var vars = {};
		var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
			vars[key] = value;
		});
		return vars;
	}
	var compositionXMLURL = getUrlVars()["compositionXMLURL"];
	var compositionURL = compositionXMLURL;
	
	if(compositionXMLURL=="")
		alert("ERROR: Composition definition not specified! Please provide the composition definition URL as query parameter.")
	else{

		CSEngine = new Engine(compositionURL);
		startingInputs = [];
	
		function saveStartingInputs() {
			var startInputsNodes = $("#runNoUIFlow_div input:not(#run)");
			$.each(startInputsNodes, function(key, inputNode) {
				startingInputs[$(inputNode).attr("id")] = $(inputNode)
						.attr("value");
			});
			
			$("#runNoUIFlow_div")[0].style.visibility= "hidden";
		}
		
		$(window).unload(function(){CSEngine.onWindowClosing()});
	}
</script>



</head>
<body onload="CSEngine.instantiateClientSideComponents();" style="font-family: sans-serif;width: 80%;margin-left: 10%;background-color: #EEE;">
	<div id="runNoUIFlow_div" style="border: darkolivegreen solid 3px;position: absolute;right: 5%;padding: 10px;background-color: cadetblue;border-radius: 10px;">
		<label>Name: </label><br>
		<input id="I1-1" type="text" value=""/ >
		<br><br><center><input id="run" value="RUN" type="button" onclick="saveStartingInputs(); CSEngine.startNoUIFlows();"></center>
	</div>

    <div style="
    background-color: white;
    display: inline-block;
    height: 90%;
    padding: 1%;
    top: 5%;
    border-radius: 30px;
    width: 99%;
">
	<center><h2 style="
	    background-color: lightblue;
	    border-radius: 20px;
	    width: 400px;
	    padding-top: 5px;
	    padding-bottom: 5px;
	    text-align: center;
		">
		Publications Per Year
	</h2></center>
    <br><br>
	<div style="float: left; width:20%;background-color: lightblue;border-radius: 15px;padding: 15px;text-align: justify;margin-right: 20px;font-size: 15px;">
		The chart on the right shows the publications-per-year impact values of a set of researchers. <br><br>On the X axis we have the researchers' names while on the Y axis the associated impact values. <br><br>The publications source used is Google Scholar.
	</div>
	
	<div id="_viewport_ChartViewPort" style="
    	border: solid 1px lightblue;
    	width: 71%;
    	min-height: 400px;
    	float: right;">
	</div>

    </div>
</body></html>